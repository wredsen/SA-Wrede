\ProvidesPackage{beamerinnerthemetud}[2011/01/17 v1 TU Dresden
corporate design inner theme]
\def\tudbeamer@inner@style{cd2018}
\DeclareOptionBeamer{cd2018}{\def\tudbeamer@inner@style{cd2018}}
\DeclareOptionBeamer{cd2012ts}{\def\tudbeamer@inner@style{cd2012ts}}


\ProcessOptionsBeamer\relax

\setbeamertemplate{sections/subsections in toc}[default]

\AtBeginDocument{%
  \normalfont
  \setlength\leftmargini{1.25em}%
  \setlength\leftmarginii{1.25em}%
  \setlength\leftmarginiii{1.25em}%
  \setlength\labelsep{0.25em}%
  \setlength\labelwidth{1em}%
}
\setbeamertemplate{items}[default]
\beamertemplatedotitem
\setbeamertemplate{itemize items}{\hbox to \labelwidth{\textbullet\hfill}}
\setbeamertemplate{itemize subitem}{\hbox to \labelwidth{--\hfill}}
\setbeamertemplate{itemize subsubitem}{\hbox to \labelwidth{--\hfill}}
\setbeamertemplate{enumerate item}{\hbox to \labelwidth{\theenumi.\hfill}}
\setbeamertemplate{enumerate subitem}{\hbox to 1.5\labelwidth{\theenumi.\theenumii.\hfill}}
\setbeamertemplate{enumerate subsubitem}{\hbox to 2\labelwidth{\theenumi.\theenumii.\theenumiii.\hfill}}

\mode<presentation>

%\useinnertheme[shadow=true]{rounded}
\defbeamertemplate{title page}{tud}{
  \usebeamertemplate{title page/tud}%
}%


% Faktor zur PPT-Vorlage: / 0,1984375      * 5,04
\defbeamertemplate{title page/tud}{cd2012ts}{%
  \usebeamercolor{normal text/titlepage}%
  \usebeamerfont{normal text/titlepage}%
  \vfill%
  {%
    % \renewcommand\baselinestretch{1}%
    \usebeamerfont*{title}%
    \usebeamercolor[fg]{title}%
    \expandafter\setlength\expandafter\baselineskip{\f@size pt*\ratio{10pt}{10pt}}%
    \MakeUppercase{\inserttitle}\par%
  }\vfill%
  {%
    \ifx\insertsubtitle\empty
    \else
    \usebeamerfont*{subtitle}%
    \usebeamercolor[fg]{subtitle}%
    \insertsubtitle
    \vfill
    \fi%
    \usebeamerfont*{author}%
    \usebeamercolor[fg]{author/titlepage}%
    \insertauthor
  }%
  \vfill\vfill%
}

\defbeamertemplate*{title page/tud}{cd2018}{%
  \parindent0pt
  \setlength\@tempdima{0.55\paperheight-\headheight}%
  \vbox to \@tempdima{
    \vfill\vfill
    \usebeamercolor{normal text/titlepage}%
    \usebeamerfont{normal text/titlepage}%
    {%
      \vfill
      \usebeamerfont*{author/titlepage}%
      \usebeamercolor[fg]{author/titlepage}%
      \insertauthor\\
      \usebeamercolor{einrichtung/titlepage}%
      \usebeamerfont*{einrichtung/titlepage}%
      \usebeamertemplate{einrichtung/titlepage}%
      \usebeamercolor{fachrichtung/titlepage}%
      \usebeamerfont*{fachrichtung/titlepage}%
      \usebeamertemplate{fachrichtung/titlepage}%
      \usebeamercolor{institut/titlepage}%
      \usebeamerfont*{institut/titlepage}%
      \usebeamertemplate{institut/titlepage}%
      \usebeamercolor{professur/titlepage}%
      \usebeamerfont*{professur/titlepage}%
      \usebeamertemplate{professur/titlepage}%
    }%
    \vfill%
    {%
      \usebeamerfont*{title}%
      \usebeamercolor[fg]{title}%
      \expandafter\setlength\expandafter\baselineskip{\f@size pt*\ratio{10pt}{10pt}}%
      \inserttitle\strut\par%
    }%
  }%
  {
    \ifx\insertsubtitle\empty
    \else
    \usebeamerfont*{subtitle}%
    \usebeamercolor[fg]{subtitle}%
    \insertsubtitle
    \ifx\insertdatecity\empty
    \ifx\insertdate\empty
    \else{} \\ \fi
    \else{} \\ \fi
    \fi
  }%
  {%
    \usebeamerfont*{date in head/foot/titlepage}%
    \usebeamercolor[fg]{date in head/foot/titlepage}%
    \insertdatecity
    \ifx\insertdatecity\empty
    \else
    \ifx\insertdate\empty
    \else,
    \fi
    \fi
    \insertdate%
    \strut
  }%
  \vfill\vfill%
}

\setbeamertemplate{title page/tud}[\tudbeamer@inner@style]%


\defbeamertemplate*{part page/title}{section}{%
  \insertsection
}
\defbeamertemplate{part page/subtitle}{section}{%
  \insertsection
}
\defbeamertemplate*{part page/subtitle}{subsection}{%
  \insertsubsection
}

\defbeamertemplate*{part page/tud}{subsection cd2018}{%
  % \color{tudaccent5}\rule{\beamer@leftmargin}{1pt}%
  \vbox to 0.55\paperheight{%
    \vfill
    % \renewcommand\baselinestretch{1}%
    \usebeamertemplate***{part page/title}\strut\par%
    \leavevmode\usebeamertemplate***{part page/subtitle}\strut
  }%
  \vfill%
}

\defbeamertemplate{part page}{tud}{
  \usebeamertemplate{part page/tud}%
}

\defbeamertemplate*{part page}{tud cd2018}{%
}[action]{%
  \setbeamertemplate{part page/tud}[cd2018]%
  \setbeamertemplate{part page}[tud]%
}

\setbeamertemplate{title page}[tud]

\mode<all>
